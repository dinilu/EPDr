setwd("~/Proyectos/EPD/02-Clam")
ls()
library("EPDr", lib.loc="~/R/win-library/3.2")
ls()
?clam
??EPDr
?EPDr
clam("Example")
clam
prueba <- mix.curves()
# if two curves need to be 'mixed' to calibrate, e.g. for dates of mixed terrestrial and marine carbon sources
mix.curves <- function(ratio=.5, cc1="IntCal13.14C", cc2="Marine13.14C", name="mixed.14C", offset=c(0,0))
{
# start modification by DNL
# cc1 <- read.table(cc1)
# cc2 <- read.table(cc2)
cc1 <- get(cc1)
cc2 <- get(cc2)
# end modification by DNL
cc2.mu <- approx(cc2[,1], cc2[,2], cc1[,1], rule=2)$y + offset[1] # interpolate cc2 to the calendar years of cc1
cc2.error <- approx(cc2[,1], cc2[,3], cc1[,1], rule=2)$y
cc2.error <- sqrt(cc2.error^2 + offset[2]^2)
mu <- ratio * cc1[,2] + (1-ratio) * cc2.mu
error <- ratio * cc1[,3] + (1-ratio) * cc2.error
# start modification by DNL
# write.table(cbind(cc1[,1], mu, error), name, row.names=FALSE, col.names=FALSE, sep="\t")
mixed.14C <- cbind(cc1[,1], mu, error)
return(mixed.14C)
# end modification by DNL
}
prueba <- mix.curves()
prueba
mix.curves <- function(ratio=.5, cc1="IntCal13.14C", cc2="Marine13.14C", offset=c(0,0))
# end modification by DNL
{
# start modification by DNL
# cc1 <- read.table(cc1)
# cc2 <- read.table(cc2)
cc1 <- get(cc1)
cc2 <- get(cc2)
# end modification by DNL
cc2.mu <- approx(cc2[,1], cc2[,2], cc1[,1], rule=2)$y + offset[1] # interpolate cc2 to the calendar years of cc1
cc2.error <- approx(cc2[,1], cc2[,3], cc1[,1], rule=2)$y
cc2.error <- sqrt(cc2.error^2 + offset[2]^2)
mu <- ratio * cc1[,2] + (1-ratio) * cc2.mu
error <- ratio * cc1[,3] + (1-ratio) * cc2.error
# start modification by DNL
# write.table(cbind(cc1[,1], mu, error), name, row.names=FALSE, col.names=FALSE, sep="\t")
mixed.14C <- cbind(cc1[,1], mu, error)
return(mixed.14C)
# end modification by DNL
}
mix.curves()
prueba <- mix.curves()
head(prueba)
prueba2 <- mix.curves(.7)
head(prueba2)
prueba2 <- mix.curves(1)
head(prueba2)
head(IntCal13.14C)
prueba2 <- mix.curves(0)
head(prueba2)
head(Marine13.14C)
# 'glue' two curves together, e.g., for calibrating southern hemisphere dates older than SHCal04
#
# start modification by DNL
#
#glue.curves <- function(nh="IntCal09.14C", sh="SHCal04.14C", offset=c(56, 24), name="gluedHemispheres.14C")
glue.curves <- function(nh="IntCal09.14C", sh="SHCal04.14C", offset=c(56, 24))
#
# end modification by DNL
{
nh <- nh[nh[,1] > max(sh[,1]),] # only use years beyond SHCal04
nh[,2] <- nh[,2] + offset[1] # nh to sh, means
nh[,3] <- sqrt(nh[,3]^2 + offset[2]^2) # errors, squared summed
# start modification by DNL
# write.table(rbind(sh, nh), "gluedHemispheres.14C", sep="\t", row.names=F, col.names=F)
glued.14C <- rbind(sh, nh)
return(glued.14C)
# end modification by DNL
}
calibrate(-107.5, 30)
calibrate(-107.5, 30, postbomb=1)
calibrate(-107.5, 30, postbomb=2)
calibrate(-107.5, 30, postbomb=3)
calibrate(-107.5, 30, postbomb=4)
library(EPDr)
calibrate(-107.5, 30, postbomb=4)
calibrate(-107.5, 30, postbomb=5)
clam("Example", cc=1)
clam("Example", cc=2)
clam("Example", cc=3)
clam("Example", cc=4)
clam("Example", cc=5)
mix.curves()
mixed.14C <- mix.curves()
ls()
rm(glue.curves)
rm(mix.curves)
rm(prueba)
rm(prueba2)
ls()
clam("Example", cc=4)
student.t
student.t()
student.t(cc=2)
student.t(cc=3)
student.t(cc=4)
student.t(cc=4, cc4=mixed.14C)
student.t(cc=4, cc4="mixed.14C")
student.t(postbomb=1)
student.t(postbomb=2)
student.t(postbomb=3)
student.t(postbomb=4)
student.t(-25, postbomb=4)
student.t(y=-25, postbomb=4)
student.t(y=-107.5, error=30, postbomb=4)
library(EPDr)
library(EPDr)
student.t(y=-107.5, error=30, postbomb=4)
student.t(y=-10.5, error=30, postbomb=4)
library(EPDr)
setwd("~/Proyectos/EPD")
install.packages("EPDr.zip", repos=NULL)
library("EPDr", lib.loc="~/R/win-library/3.2")
detach("package:EPDr", unload=TRUE)
install.packages("EPDr.zip", repos=NULL)
install.packages("EPDr_0.1.zip", repos=NULL)
library(EPDr)
library(EPDr)
?suppressWarnings
?try
library("EPDr", lib.loc="~/R/win-library/3.2")
?clam
??clma
??clam
detach("package:EPDr", unload=TRUE)
library("EPDr", lib.loc="~/R/win-library/3.2")
library(EPDr)
?clam
?ls
connEPD <- connectToEPD(DB="epd_ddbb", US="postgres", PW="fG6A9QPC", DRV="PostgreSQL", HOST="localhost")
library(EPDr)
connEPD <- connectToEPD(DB="epd_ddbb", US="postgres", PW="fG6A9QPC", DRV="PostgreSQL", HOST="localhost")
?clam
?dbConnect
??dbConnect
library(RPostgreSQL)
?dbConnect
library(EPDr)
connEPD <- connectToEPD(DB="epd_ddbb", US="postgres", PW="fG6A9QPC", DRV="PostgreSQL", HOST="localhost")
chron
chron()
?chron
??chron
library(EPDr)
??clam
?clam
install.package("sdm")
install.packages("sdm")
install.packages(c("manipulate", "vegan"))
install.packages("sdmvspecies")
library(usdm)
?usdm
432/60
432/54
